(this["webpackJsonpmy-todolist"]=this["webpackJsonpmy-todolist"]||[]).push([[0],{155:function(t,e,n){},222:function(t,e,n){},244:function(t,e,n){},255:function(t,e,n){},256:function(t,e,n){},257:function(t,e,n){},259:function(t,e,n){"use strict";n.r(e);var i=n(7),c=n(0),o=n(26),r=n.n(o),s=n(41),l=n(125),a=n.n(l),u=(n(155),n(75)),d="init_list_value",j="add_todo_item",O="delete_todo_item",b="complete_todo_item",f="edit_todo_item",h={list:[]};function x(t){var e=Array.isArray(t)?[]:{};if(t&&"object"===typeof t)for(var n in t)t.hasOwnProperty(n)&&(t[n]&&"object"===typeof t[n]?e[n]=x(t[n]):e[n]=t[n]);return e}var m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;if(e.type===d){var n=x(t);return n.list=e.list,n}if(e.type===j){var i=x(t);return i.list.push({content:e.content,time:e.dateString,status:0}),i}if(e.type===O){var c=x(t);return c.list.splice(e.index,1),c}if(e.type===b){var o=x(t);return o.list[e.index].status=o.list[e.index].status?0:1,o}if(e.type===f){var r=x(t),s=r.list[e.index].status;return r.list.splice(e.index,1),r.list.push({content:e.content,time:e.dateString,status:s}),r}return t},p=Object(u.b)(m,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=n(267),v=function(t){if(""!==t){var e=p.getState(),n=[];e.list.filter((function(e){return-1!==e.content.indexOf(t)})).forEach((function(t){n.push("".concat(t.content," ").concat(t.time," ").concat(t.status?"\u5df2\u5b8c\u6210":"\u672a\u5b8c\u6210"))})),function(t){g.a.open({message:"\u641c\u7d22\u7ed3\u679c",description:Object(i.jsx)(c.Fragment,{children:t.map((function(t,e){return Object(i.jsx)("div",{children:t},e)}))}),onClick:function(){console.log("Notification Clicked!")}})}(n)}},S=function(t){return Object(i.jsx)("div",{children:Object(i.jsx)(a.a,{placeholder:"input search text",allowClear:!0,enterButton:"Search",size:"large",onSearch:v})})};n(222);var y=function(t){return Object(i.jsxs)("div",{className:"header-panel",children:[Object(i.jsxs)("h1",{style:{marginTop:"10px"},children:["\u5f85\u529e\u4e8b\u9879: ",t.count]}),Object(i.jsx)(S,{})]})},w=n(6),_=n(263),I=n(268),k=n(89),C=n(266),E=n(269),T=n(270),A=Object(c.createContext)(null),N=function(t){var e=Object(c.useContext)(A);return Object(i.jsx)(_.b.Item,{actions:[Object(i.jsx)("div",{children:t.time}),Object(i.jsx)(I.a,{title:"edit",children:Object(i.jsx)(k.a,{type:"primary",shape:"circle",icon:Object(i.jsx)(E.a,{}),onClick:function(){return e(t.content,t.time,t.index)}})}),Object(i.jsx)(I.a,{title:"delete",children:Object(i.jsx)(k.a,{type:"primary",shape:"circle",icon:Object(i.jsx)(T.a,{}),onClick:function(){t.handleDelete(t.index)}})})],children:Object(i.jsx)(C.a,{className:"textShow",checked:t.checked,style:t.itemStyle,onClick:function(){t.handleClick(t.index)},children:t.content})})},D={getInitListValueAction:function(t){return{type:d,list:t}},getAddTodoItemAction:function(t,e){return{type:j,content:t,dateString:e}},getDeleteTodoItemAction:function(t){return{type:O,index:t}},getCompleteTodoItemAction:function(t){return{type:b,index:t}},getEditTodoItemAction:function(t,e,n){return{type:f,index:t,content:e,dateString:n}}},L=function(t){var e=Object(s.b)();return Object(i.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(i.jsx)(_.b,{header:Object(i.jsx)("h2",{children:t.title}),style:{marginTop:"10px",width:"100%"},bordered:!0,dataSource:t.list,renderItem:function(e){return Object(i.jsx)(N,{itemStyle:t.itemStyle,content:e.content,time:e.time,checked:t.checked,index:e.index,handleEdit:n,handleDelete:o,handleClick:c})}})});function n(){}function c(t){e(D.getCompleteTodoItemAction(t))}function o(t){e(D.getDeleteTodoItemAction(t))}},P=function(t){var e=t.list.length>0?Object(i.jsx)(L,{title:"\u5f85\u529e\u4e8b\u9879",list:t.list}):null;return Object(i.jsx)(c.Fragment,{children:e})},F=function(t){var e=t.list.length>0?Object(i.jsx)(L,{title:"\u5df2\u5b8c\u6210\u4e8b\u9879",list:t.list,itemStyle:{textDecoration:"line-through"},checked:!0}):null;return Object(i.jsx)(c.Fragment,{children:e})},J=n(264),V=n(262),X=n(47),B=n.n(X),R=(n(244),function(t){var e=Object(c.useState)(t.content||""),n=Object(w.a)(e,2),o=n[0],r=n[1],s=Object(c.useState)(t.time||""),l=Object(w.a)(s,2),a=l[0],u=l[1],d=Object(c.useRef)();return Object(c.useEffect)((function(){d.current&&d.current.focus();r(t.content),u(t.time)}),[t.content,t.time]),Object(i.jsx)(c.Fragment,{children:t.isShow?Object(i.jsx)("div",{className:"Panel",children:Object(i.jsxs)("div",{className:"EditPanel",children:[Object(i.jsx)("h1",{children:t.title}),Object(i.jsx)(J.a.TextArea,{ref:d,autoSize:!0,onChange:function(t){r(t.target.value)},placeholder:"\u8bf7\u8f93\u5165Item",value:o}),Object(i.jsxs)("div",{children:[Object(i.jsx)(V.a,{showTime:!0,value:a?B()(a):"",onChange:function(t,e){u(e)}}),Object(i.jsx)(k.a,{onClick:function(){var e=!0;""===o&&(e=!1,alert("\u4e8b\u9879\u4e0d\u80fd\u4e3a\u7a7a"));""===a&&(e=!1,alert("\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a"));e&&(o!==t.content||a!==t.time?(t.onOk(o,a,t.index),r(""),u("")):alert("\u672a\u4fee\u6539"))},children:"\u4fdd\u5b58"}),Object(i.jsx)(k.a,{onClick:t.setShow,children:"\u9000\u51fa"})]})]})}):null})}),z=function(t){var e=Object(c.useState)(!1),n=Object(w.a)(e,2),o=n[0],r=n[1],l=Object(c.useState)(""),a=Object(w.a)(l,2),u=a[0],d=a[1],j=Object(c.useState)(""),O=Object(w.a)(j,2),b=O[0],f=O[1],h=Object(c.useState)(0),x=Object(w.a)(h,2),m=x[0],p=x[1],g=Object(s.b)();return Object(i.jsxs)(A.Provider,{value:function(t,e,n){d(t),f(e),p(n),r(!0)},children:[Object(i.jsx)(R,{title:"\u7f16\u8f91\u9879\u76ee",isShow:o,time:b,index:m,content:u,setShow:function(){return r(!1)},onOk:function(t,e,n){g(D.getEditTodoItemAction(n,t,e)),r(!1)}}),Object(i.jsx)(P,{list:t.todoList}),Object(i.jsx)(F,{list:t.didList})]})},U=(n(255),n(256),function(t){var e=Object(c.useState)(!1),n=Object(w.a)(e,2),o=n[0],r=n[1],l=Object(s.b)();return Object(i.jsxs)("div",{style:{display:"flex",alignItem:"center",justifyContent:"flex-start"},children:[Object(i.jsx)("div",{className:"newItemBtn",onClick:function(){return r(!0)},children:"+\u65b0\u5efa\u5f85\u529e"}),Object(i.jsx)(R,{title:"\u6dfb\u52a0\u4e8b\u9879",isShow:o,setShow:function(){return r(!1)},onOk:function(t,e){l(D.getAddTodoItemAction(t,e)),r(!1)}})]})}),q=function(t){var e=Object(s.c)((function(t){return t})).list,n=Object(s.b)();Object(c.useEffect)((function(){n(D.getInitListValueAction(window.localStorage?JSON.parse(window.localStorage.getItem("list"))||[]:function(){return alert("\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301localStorage"),[]}))}),[n]),Object(c.useEffect)((function(){window.localStorage&&window.localStorage.setItem("list",JSON.stringify(e))}));var o=e.map((function(t,e){return Object.assign({index:e},t)})),r=o.filter((function(t){return 0===t.status})),l=o.filter((function(t){return 1===t.status}));return Object(i.jsxs)("div",{className:"todoListPanel",children:[Object(i.jsx)(y,{count:r.length}),Object(i.jsx)(U,{}),Object(i.jsx)(z,{todoList:r,didList:l})]})};n(257),n(258);r.a.render(Object(i.jsx)(s.a,{store:p,children:Object(i.jsx)(q,{})}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.ec14642d.chunk.js.map